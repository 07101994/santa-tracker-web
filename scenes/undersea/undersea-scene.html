<link rel="import" href="../base-scene.html">

<!--
Undersea scene.

@element undersea-scene
@extends base-scene
-->
<polymer-element name="undersea-scene" extends="base-scene">
<template>
  <link rel="stylesheet" href="undersea-scene.css" no-shim>

  <div id="module-undersea" fit>
    <div class="scene">
      <div class="santa">
        <ul class="bubbles">
          <li></li>
          <li></li>
          <li></li>
          <li></li>
          <li></li>
        </ul>
      </div>

      <div class="elf-wrap">
        <div class="elf-track">
          <div class="elf">
            <ul class="bubbles">
              <li></li>
              <li></li>
              <li></li>
              <li></li>
              <li></li>
            </ul>
          </div>
        </div>
      </div>

      <div class="mermaids">
        <div class="mermaid lady"></div>
        <div class="mermaid boy"></div>
        <div class="mermaid girl"></div>
      </div>

      <div class="boat"></div>

      <div class="fish-wrap">
        <div class="fish"></div>
        <div class="fish"></div>
        <div class="fish"></div>
        <div class="fish"></div>
        <div class="fish"></div>
        <div class="fish"></div>
        <div class="fish"></div>
        <div class="fish"></div>
        <div class="fish"></div>
        <div class="fish"></div>
      </div>

      <div class="bottom">
        <div class="view">
          <div class="presents"></div>
          <div class="chest"></div>
          <div class="object tree-big"></div>
          <div class="object tree-medium"></div>
          <div class="object tree-small"></div>
          <div class="object flask-big"></div>
          <div class="object flask-medium"></div>
          <div class="object flask-small"></div>
        </div>

        <div class="crabby-path">
          <div class="crabby">
            <div class="body">
              <div class="leg"></div>
              <div class="leg"></div>
              <div class="leg"></div>
              <div class="leg"></div>
              <div class="leg"></div>
              <div class="leg"></div>
            </div>
            <div class="steps"></div>
          </div>
        </div>

        <div class="sand"></div>
        <div class="sand-away"></div>
        <div class="reefs"></div>
      </div>

      <div class="mega-bubbles">
        <div class="bubble"></div>
        <div class="bubble"></div>
        <div class="bubble"></div>
        <div class="bubble"></div>
      </div>

      <div class="crabby-large-path">
        <div class="crabby">
          <div class="eye"></div>
          <div class="eye"></div>
        </div>
      </div>
    </div>
  </div>

</template>
<script>
  Polymer({
    onPreload: function(preloader) {
      // preloader.addKlang('undersea_load_sounds', 20);
      this.preloadImages([
        'img/boat.png',
        'img/bottom-sand.png',
        'img/crabby-small.png',
        'img/fish.png',
        'img/santa.png',
        'img/bottom-objects.png',
        'img/chest.png',
        'img/crabby-steps-fade.png',
        'img/mega-bubble.png',
        'img/bottom-reefs.png',
        'img/crabby-large.png',
        'img/crabby-steps.png',
        'img/mermaids.png',
        'img/bottom-sand-away.png',
        'img/crabby-leg.png',
        'img/elf.png',
        'img/presents.png'
      ]);
    },

    onShow: function() {
      Klang.triggerEvent('undersea_start');

    //   if (imagePreloader) {
    //     imagePreloader.dispose();
    //     imagePreloader = null;
    //   }
    },

    onHide: function() {
      Klang.triggerEvent('undersea_end');
    }
  });
</script>
</polymer-element>
