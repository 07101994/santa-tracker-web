<!--
Copyright 2016 Google Inc. All rights reserved.

Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at

      http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software distributed
under the License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR
CONDITIONS OF ANY KIND, either express or implied. See the License for the
specific language governing permissions and limitations under the License.
-->
<link rel="import" href="../scene-behavior.html">

<script src="../shared/js/startbutton.js"></script>
<script src="postcardly-scene.min.js"></script>

<!-- TODO(samthor): Upgrade styling for Polymer 1+ (#1165) -->
<link rel="stylesheet" href="postcardly-scene.css" />

<!--
Presentdrop scene.
-->
<dom-module id="postcardly-scene">
<template>
  <style>
    :host([mode="portal"]) .shareButtons {
      display: none !important;
    }
    .blocklyArea {
      background-color="transparent";
    }
    #postcard {
      position: relative;
      display: inline-block;
      top: 50%;
      transform: translateY(-50%);
    }
    #weather {
      position: absolute;
    }
    #heroSnowflake {
      position: absolute;
      bottom: -48px;
      right: -48px;
      background-size: cover;
    }
    #snowglobe {
      text-align: center;
      width: 850px;
    }
    #back {
      position: absolute;
      top: -63px;
      left: 0px;
    }

  </style>

  <div id="module-postcardly">
    <iframe id="blocklyArea" src="about:blank" width="100%" height="100%" frameBorder="0" allowTransparency="true"></iframe>
    <div id="snowglobe" hidden>
      <div id="postcard" class="center" >
          <button id="back" on-tap="backToBlockly" style="margin: 24px;">Back</button>
          <div id="weather"></div>
          <div id="heroSnowflake" style="width: 300px; height: 300px;"></div>
      </div>
    </div>
  </div>

</template>
<script>
(function() {
  var dev = false; //for testing postcard selection page;
  Polymer({
    is: 'postcardly-scene',
    behaviors: [window.SantaSceneBehavior],
    game: null,

    property: {
      snowflake: String,
    },

    attached: function() {
      this._boundReceive = this.receiveMessage.bind(this);
      window.addEventListener('message', this._boundReceive, false);
    },

    detached: function() {
      window.removeEventListener('message', this._boundReceive, false);
    },

    onPreload: function() {
      this.preloadSounds('pd_load_sounds', 30);
      this.preloadImages([
      ]);
    },

    onShow: function() {
      var module = this.$['module-postcardly'];
      this.scene = new scenes.postcardly.Scene(module);
      this.$.blocklyArea.src = this.componentDir + 'snowflake-maker/turtle.html';
      if (dev) {
        this.snowflake = "data:image/png;base64,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";
        this.viewSnowflake();
      }
    },

    onHide: function() {
      this.scene.dispose();
      this.fire('sound-ambient', 'pd_end_game');
    },

    receiveMessage: function(event) {
      var iframe = this.$.blocklyArea;
      var expectedSource = iframe.contentWindow || iframe;
      if (event.source != expectedSource) {
        throw new Error('unexpected source: ' + event.origin);
      } else {
        this.snowflake = event.data;
        this.$.heroSnowflake.style.backgroundImage = 'url(' + this.snowflake + ')';
        // If we're receiving this message, 'Done' has been pressed.
        this.viewSnowflake();
      }
    },

    backToBlockly: function() {
      this.$.snowglobe.hidden = true;
      this.$.blocklyArea.hidden=false;
    },

    viewSnowflake: function() {
      var snowflakesList = Polymer.dom(this.root).querySelectorAll('.snow');
      for (var i = 0; i < snowflakesList.length; i++) {
        snowflakesList[i].style.backgroundImage = 'url(' + this.snowflake + ')';
        snowflakesList[i].style.backgroundSize = 'contain';
      }
      this.$.blocklyArea.hidden = true;
      this.$.snowglobe.hidden = false;
    },
  });
})();

</script>
</dom-module>
