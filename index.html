<!DOCTYPE html>
<html lang="en" itemscope="itemscope" itemtype="http://schema.org/WebPage">
<head prefix="og: http://ogp.me/ns# article: http://ogp.me/ns/article#">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta name="viewport" content="width=device-width, minimum-scale=1.0, initial-scale=1.0, user-scalable=yes">
  <meta name="apple-mobile-web-app-capable" content="yes">

  <meta property="og:image" itemprop="image" name="thumbnail" content="https://maps.gstatic.com/mapfiles/santatracker/13/images/apple-touch-icon-144x144-precomposed.png">
  <meta name="description" content="Use Google Santa Tracker to follow Santa Claus on Google Maps as he makes his journey around the world.">

  <title>Google Santa Tracker</title>

  <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Open+Sans:300,400,600,700,800|Lobster|Roboto&subset=all">

  <link rel="apple-touch-icon-precomposed" href="//maps.gstatic.com/mapfiles/santatracker/13/images/apple-touch-icon-precomposed.png">
  <link rel="apple-touch-icon-precomposed" sizes="57x57" href="//maps.gstatic.com/mapfiles/santatracker/13/images/apple-touch-icon-57x57-precomposed.png">
  <link rel="apple-touch-icon-precomposed" sizes="72x72" href="//maps.gstatic.com/mapfiles/santatracker/13/images/apple-touch-icon-72x72-precomposed.png">
  <link rel="apple-touch-icon-precomposed" sizes="114x114" href="//maps.gstatic.com/mapfiles/santatracker/13/images/apple-touch-icon-114x114-precomposed.png">
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="//maps.gstatic.com/mapfiles/santatracker/13/images/apple-touch-icon-144x144-precomposed.png">
  <link rel="shortcut icon" href="//maps.gstatic.com/mapfiles/santatracker/13/images/favicon.ico">

  <script src="components/webcomponentsjs/webcomponents.js"></script>
  <!-- <link rel="import" href="components/polymer/polymer.html"> -->
  <link rel="import" href="elements/elements.html">

  <link rel="stylesheet" href="sass/santatracker.css">
</head>
<body unresolved fullbleed>

<template is="auto-binding" id="t">

  <!-- Route controller -->
  <flatiron-director route="{{route}}" autoHash on-director-route="{{onRouteChange}}"></flatiron-director>

  <!-- Preloading scene overlay -->
  <preload-overlay value="{{selectedScene.preloadProgress || 0}}"
                   active?="{{selectedScene && !selectedScene.loaded}}"
                   color="{{selectedScene.loadingBgColor}}"
                   src="{{selectedScene.loadingSrc}}"></preload-overlay>

  <lazy-pages id="lazypages" selected="{{route}}" selectedItem="{{selectedScene}}" valueattr="route">
    <calendar-nav route="calendar" alwaysActive
                  visibilityService="{{$.lazypages.visibilityService}}"
                  analyticsService="{{$.lazypages.analyticsService}}"></calendar-nav>
    <village-scene route="village"
        path="scenes/village/village-scene.html" countDownEndDate="{{countDownEndDate}}" hidden></village-scene>
    <briefing-scene route="briefing"
        path="scenes/briefing/briefing-scene.html" hidden></briefing-scene>
    <matching-scene route="matching"
        path="scenes/matching/matching-scene.html" hidden></matching-scene>
    <workshop-scene route="workshop"
        path="scenes/workshop/workshop-scene.html" hidden></workshop-scene>
    <windtunnel-scene route="windtunnel"
        path="scenes/windtunnel/windtunnel-scene.html" hidden></windtunnel-scene>
    <rollercoaster-scene route="rollercoaster"
        path="scenes/rollercoaster/rollercoaster-scene.html" hidden></rollercoaster-scene>
    <undersea-scene route="undersea"
        path="scenes/undersea/undersea-scene.html" hidden></undersea-scene>
  </lazy-pages>

</template>

<div id="preload_placeholder"></div>

<script src="js/santatracker.js"></script>

<!-- TODO(bckenny): remove fro prod. -->
<script>
window.DEV = true;

if (window.DEV) {
  document.addEventListener('HTMLImportsLoaded', function() {
    console.debug('HTMLImportsLoaded @', performance.now(), 'ms');
  });
  document.addEventListener('polymer-ready', function() {
    console.debug('polymer-ready @', performance.now(), 'ms');
  });
}
</script>
</body>
</html>
