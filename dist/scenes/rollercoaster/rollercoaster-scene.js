(function(){var CSSAnimationInterval=function(context){this.interval=null;this.ACTIVE_CLASS_NAME="play";this.animationDuration=null;this.container=context;this.elements=null;this.timer=null};CSSAnimationInterval.prototype={init:function(options){if(options.selector&&options.selector.length===0){throw Error("Missing selector")}this.interval=options.interval||1e3;this.animationDuration=options.animationDuration||3e3;this.elements=[].slice.call(this.container.querySelectorAll(options.selector));return this},startAt:function(delayStart){var _this=this;delayStart=delayStart||0;setTimeout(function(){_this.show();_this.timer=setInterval(_this.show.bind(_this),_this.interval)},delayStart)},show:function(){if(!this.elements){return}this.elements.forEach(function(element){element.classList.add(this.ACTIVE_CLASS_NAME)},this);setTimeout(this.hide.bind(this),this.animationDuration)},hide:function(){if(!this.elements){return}this.elements.forEach(function(element){element.classList.remove(this.ACTIVE_CLASS_NAME)},this)},destroy:function(){if(this.timer!==null){clearInterval(this.timer)}this.timer=null;this.interval=null;this.context=null;this.elements=null}};Polymer("rollercoaster-scene",{componentDir:"scenes/rollercoaster/",cartAnimationBack_:null,cartAnimationFront_:null,onPreload:function(preloader){this.preloadSounds("rollercoaster_load_sounds",40);this.preloadImages(["img/logo.svg","img/gradient_60percent-01.svg"])},onShow:function(){this.playAmbientSounds("rollercoaster_start");var container=this.$["module-rollercoaster"];this.cartAnimationBack_=new CSSAnimationInterval(container);this.cartAnimationFront_=new CSSAnimationInterval(container);if(!navigator.userAgent.match(/IEMobile\/10\.0/)){this.cartAnimationBack_.init({selector:".cart-back",interval:1e4,animationDuration:3800}).startAt(0)}this.cartAnimationFront_.init({selector:".cart-front",interval:1e4,animationDuration:2300}).startAt(6e3)},onHide:function(){this.cartAnimationBack_.destroy();this.cartAnimationFront_.destroy();this.cartAnimationBack_=null;this.cartAnimationFront_=null;this.playAmbientSounds("rollercoaster_end")}})})();